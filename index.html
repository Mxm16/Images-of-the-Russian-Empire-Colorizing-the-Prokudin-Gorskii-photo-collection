<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Images of the Russian Empire: Colorizing the Prokudin-Gorskii photo collection</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #fafafa; line-height: 1.6; }
    h1 { color: #2c3e50; }
    h2 { color: #34495e; margin-top: 40px; }
    img { max-width: 100%; border: 1px solid #ccc; border-radius: 4px; }
    .offset { color: #555; font-style: italic; }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 20px;
    }
    .result {
      background: #fff;
      padding: 10px;
      text-align: center;
      border-radius: 6px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>Images of the Russian Empire: Colorizing the Prokudin-Gorskii photo collection</h1>
  
  <h2>Overview</h2>
  <p>
    In this project, I implemented an algorithm to align the RGB channels of
    Prokudin-Gorskii’s glass plate images to reconstruct color photos. The
    algorithm works on both small .jpg images and large .tif images.
  </p>
  
  <h2>Approach</h2>
  <p>
    My algorithm follows a two-stage approach:
  </p>
  <ul>
    <li><b>Channel Separation:</b> Split image into 3 channels (Blue, Green, Red).</li>
    <li><b>Alignment:</b> 
      <ul>
        <li>Small images → single-scale exhaustive search (±15px).</li>
        <li>Large images → pyramid (coarse-to-fine) alignment.</li>
      </ul>
    </li>
    <li><b>Post-processing:</b> Stack channels, clip values to [0,1], convert to uint8.</li>
  </ul>

  <h2>Results on Provided Images</h2>
  <h3>Displacements</h3>
  <table border="1" cellpadding="6" cellspacing="0">
    <tr>
      <th>Image</th>
      <th>Method</th>
      <th>Green Shift (dy, dx)</th>
      <th>Red Shift (dy, dx)</th>
    </tr>
    <tr><td>cathedral</td><td>align()</td><td>(5, 2)</td><td>(12, 3)</td></tr>
    <tr><td>monastery</td><td>align()</td><td>(-3, 2)</td><td>(3, 2)</td></tr>
    <tr><td>tobolsk</td><td>align()</td><td>(3, 2)</td><td>(6, 3)</td></tr>
    <tr><td>church</td><td>align_pyramid()</td><td>(23, -4)</td><td>(56, -9)</td></tr>
    <tr><td>emir</td><td>align_pyramid()</td><td>(33, 8)</td><td>(107, 17)</td></tr>
    <tr><td>harvesters</td><td>align_pyramid()</td><td>(59, 10)</td><td>(121, 7)</td></tr>
    <tr><td>icon</td><td>align_pyramid()</td><td>(41, 16)</td><td>(89, 22)</td></tr>
    <tr><td>italil</td><td>align_pyramid()</td><td>(38, 18)</td><td>(77, 34)</td></tr>
    <tr><td>lastochikino</td><td>align_pyramid()</td><td>(-3, -2)</td><td>(73, -7)</td></tr>
    <tr><td>lugano</td><td>align_pyramid()</td><td>(35, -11)</td><td>(93, -28)</td></tr>
    <tr><td>melons</td><td>align_pyramid()</td><td>(83, 4)</td><td>(174, 7)</td></tr>
    <tr><td>self_portrait</td><td>align_pyramid()</td><td>(71, -1)</td><td>(161, -3)</td></tr>
    <tr><td>siren</td><td>align_pyramid()</td><td>(48, -7)</td><td>(103, -19)</td></tr>
    <tr><td>three_generations</td><td>align_pyramid()</td><td>(52, 5)</td><td>(110, 7)</td></tr>
  </table>

  <div class="grid">
    <div class="result">
      <p><b>Cathedral</b> <span class="offset">(G=(5,2), R=(12,3))</span></p>
      <img src="results/out_cathedral.jpg" alt="Cathedral result">
    </div>
    <div class="result">
      <p><b>Monastery</b> <span class="offset">(G=(-3,2), R=(3,2))</span></p>
      <img src="results/out_monastery.jpg" alt="Monastery result">
    </div>
    <div class="result">
      <p><b>Tobolsk</b> <span class="offset">(G=(3,2), R=(6,3))</span></p>
      <img src="results/out_tobolsk.jpg" alt="Tobolsk result">
    </div>
    <div class="result">
      <p><b>Church</b> <span class="offset">(G=(23,-4), R=(56,-9))</span></p>
      <img src="results/out_church.jpg" alt="Church result">
    </div>
    <div class="result">
      <p><b>Emir</b> <span class="offset">(G=(33,8), R=(107,17))</span></p>
      <img src="results/out_emir.jpg" alt="Emir result">
    </div>
    <div class="result">
      <p><b>Harvesters</b> <span class="offset">(G=(59,10), R=(121,7))</span></p>
      <img src="results/out_harvesters.jpg" alt="Harvesters result">
    </div>
    <div class="result">
      <p><b>Icon</b> <span class="offset">(G=(41,16), R=(89,22))</span></p>
      <img src="results/out_icon.jpg" alt="Icon result">
    </div>
    <div class="result">
      <p><b>Lastochikino</b> <span class="offset">(G=(-3,-2), R=(73,-7))</span></p>
      <img src="results/out_lastochikino.jpg" alt="Lastochikino result">
    </div>
    <div class="result">
      <p><b>Lugano</b> <span class="offset">(G=(35,-11), R=(93,-28))</span></p>
      <img src="results/out_lugano.jpg" alt="Lugano result">
    </div>
    <div class="result">
      <p><b>Melons</b> <span class="offset">(G=(83,4), R=(174,7))</span></p>
      <img src="results/out_melons.jpg" alt="Melons result">
    </div>
    <div class="result">
      <p><b>Self Portrait</b> <span class="offset">(G=(71,-1), R=(161,-3))</span></p>
      <img src="results/out_self_portrait.jpg" alt="Self Portrait result">
    </div>
    <div class="result">
      <p><b>Siren</b> <span class="offset">(G=(48,-7), R=(103,-19))</span></p>
      <img src="results/out_siren.jpg" alt="Siren result">
    </div>
    <div class="result">
      <p><b>Three Generations</b> <span class="offset">(G=(52,5), R=(110,7))</span></p>
      <img src="results/out_three_generations.jpg" alt="Three Generations result">
    </div>
  </div>
  
  <h2>Results on Extra Images</h2>
  
  <h3>Displacements</h3>
  <table border="1" cellpadding="6" cellspacing="0">
    <tr>
      <th>Image</th>
      <th>Method</th>
      <th>Green Shift (dy, dx)</th>
      <th>Red Shift (dy, dx)</th>
    </tr>
    <tr>
      <td>suna_river</td>
      <td>align()</td>
      <td>(1, -1)</td>
      <td>(8, -1)</td>
    </tr>
    <tr>
      <td>sign</td>
      <td>align()</td>
      <td>(4, -1)</td>
      <td>(10, -4)</td>
    </tr>
    <tr>
      <td>kumsa_river</td>
      <td>align()</td>
      <td>(2, 3)</td>
      <td>(9, 4)</td>
    </tr>
    <tr>
      <td>religious_painting</td>
      <td>align_pyramid()</td>
      <td>(25, 3)</td>
      <td>(69, 7)</td>
    </tr>
    <tr>
      <td>three_mannequins</td>
      <td>align_pyramid()</td>
      <td>(54, -2)</td>
      <td>(110, -17)</td>
    </tr>
  </table>
  
  <div class="grid">
    <div class="result">
      <p><b>Suna River</b> <span class="offset">(G=(1,-1), R=(8,-1))</span></p>
      <img src="results/out_suna_river.jpg" alt="Suna_river result">
    </div>
    <div class="result">
      <p><b>Kumsa River</b> <span class="offset">(G=(2,3), R=(9,4))</span></p>
      <img src="results/out_kumsa_river.jpg" alt="Kumsa_river result">
    </div>
    <div class="result">
      <p><b>Sign</b> <span class="offset">(G=(4,-1), R=(10,-4))</span></p>
      <img src="results/out_sign.jpg" alt="Sign result">
    </div>
    <div class="result">
      <p><b>Three Mannequins</b> <span class="offset">(G=(54,-2), R=(110,-17))</span></p>
      <img src="results/out_three_mannequins.jpg" alt="Three_mannequins result">
    </div>
    <div class="result">
      <p><b>Religious Painting</b> <span class="offset">(G=(25,3), R=(69,7))</span></p>
      <img src="results/out_religious_painting.jpg" alt="Religious_painting result">
    </div>
  </div>
